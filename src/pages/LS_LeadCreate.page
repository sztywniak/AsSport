<apex:page standardcontroller="Survey__c" showHeader="false" extensions="LS_LeadCreateController,ViewSurveyController">
    <apex:outputPanel rendered="{!isSurvey=='true'}">
        <apex:includeScript value="{! $Resource.SurveyForce_jquery}"/>
        <!-- convertCheckBoxToLDS() is in surveyforce.js -->
        <apex:includeScript value="{! $Resource.SurveyForce + '/surveyforce.js'}"/>
        <apex:stylesheet value="{! $Resource.SurveyForce + '/surveyforce.css'}"/>
        <apex:stylesheet value="{! $Resource.SurveyForce + '/surveyforce_pagemessage_override.css'}"/>
        <apex:stylesheet value="{! $Resource.SurveyForce_SLDS + '/assets/styles/salesforce-lightning-design-system-vf.min.css'}"/>

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />


        <script id="test2">
        $(document).ready(function(){
            //Convert any elements with "convertToLDS" style to SLDS styles
            //Used in certain places where it's not easy to use SLDS for those elements like "apex:selectCheckboxes"
            //convertCheckBoxToLDS();

            //Commented above function in lieu of lightningStylesheets="true"
        });
    </script>
        <!-- Custom CSS added by survey admin -->
        <style>
        <apex:outputText value="{!HTMLENCODE(surveyContainerCss)}" escape="false"/>
    </style>

        <div id="survey_container" class="surveyforce">
            <apex:form id="theForm"   >

                <apex:outputPanel id="seeSurvey" rendered="{! If((Survey__c.Hide_Survey_Name__c == false || Survey__c.Survey_Header__c != ''), True, False )}" >
                    <div class="slds-box slds-theme--shade">
                        <div class="slds-text-heading--large"><apex:outputText value="{!Survey__c.Survey_Header__c}" escape="false" /> </div>
                        <apex:outputPanel rendered="{!Survey__c.Hide_Survey_Name__c == false}">
                            <div class="slds-text-heading--medium">{!Survey__c.Name}</div>
                        </apex:outputPanel>
                    </div>
                </apex:outputPanel>


                <script>
                $(document).ready(function(){
                    overridePageMessages();
                });
            </script>


                <apex:pageMessages />

                <c:uiMessage severity="success" message="{!surveyThankYouText}" renderMe="{!thankYouRendered == true}" />

                <apex:outputPanel rendered="{!thankYouRendered == false}">
                    <div class="slds-form--stacked">
                        <apex:repeat value="{!allQuestions}" var="qPreview" id="aQPreview">
                            <div class="slds-box slds-theme--default">
                                <div class="slds-form-element">
                                    <label class="slds-form-element__label">

                                        <apex:outputText escape="true" value="{!qPreview.orderNumber + ': ' + qPreview.question}"/>

                                        <apex:outputText rendered="{! qPreview.required}" value="({!$Label.LABS_SF_Required})"  />
                                    </label>
                                </div>
                                <apex:outputPanel rendered="{!qPreview.renderSelectRadio}">
                                    <apex:selectRadio styleClass="convertToLDS" layout="pageDirection" rendered="{!qPreview.renderSelectRadio}" value="{!qPreview.selectedOption}" >
                                        <apex:selectOptions value="{!qPreview.singleOptions}"/>
                                    </apex:selectRadio>
                                </apex:outputPanel>

                                <apex:outputPanel rendered="{!qPreview.renderSelectCheckboxes}">
                                    <apex:selectCheckboxes styleClass="convertToLDS" layout="pageDirection" rendered="{!qPreview.renderSelectCheckboxes}" value="{!qPreview.selectedOptions}" >
                                        <apex:selectOptions value="{!qPreview.multiOptions}"/>
                                    </apex:selectCheckboxes>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!qPreview.renderFreeText}">
                                    <div class="slds-form-element">
                                        <div class="slds-form-element__control" >
                                            <apex:inputTextArea styleClass="slds-textarea" cols="" rows="{!qPreview.noOfRowsForTextArea}" rendered="{!qPreview.renderFreeText}" value="{!qPreview.choices}"/>
                                        </div>
                                    </div>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!qPreview.renderSelectRow}">
                                    <apex:selectRadio styleClass="convertToLDS" rendered="{!qPreview.renderSelectRow}" value="{!qPreview.selectedOption}">
                                        <apex:selectOptions value="{!qPreview.rowOptions}"/>
                                    </apex:selectRadio>
                                </apex:outputPanel>
                            </div>
                        </apex:repeat>
                    </div>
                </apex:outputPanel>
                <apex:outputPanel rendered="{!thankYouRendered == false}">
                    <div class="slds-box slds-theme--default">
                        <apex:outputPanel rendered="{!isInternal}" >
                            <span class="slds-text-body--regular">{!$Label.LABS_SF_Answer_as}:</span>
                            <apex:selectRadio value="{!anonymousAnswer}">
                                <apex:selectOptions value="{!anonymousOrUser}" />
                            </apex:selectRadio>
                            <br />
                        </apex:outputPanel>
                        <apex:actionStatus id="submitStatus">
                            <apex:facet name="stop">
                                <apex:commandButton status="submitStatus" styleClass="slds-button slds-button--brand" action="{!submitResults}" value="{!$Label.LABS_SF_SubmitSurvey}" rerender="theForm,seeSurvey,test" />
                            </apex:facet>
                            <apex:facet name="start">
                                <apex:commandButton value="Saving..." disabled="true" status="submitStatus"/>
                            </apex:facet>
                        </apex:actionStatus>
                    </div>
                </apex:outputPanel>
            </apex:form>
        </div>
    </apex:outputPanel>
    <apex:outputPanel rendered="{!isSurvey=='false'}">
        <META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=UTF-8"/>
        <style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
  -moz-font-smoothing: antialiased;
  -o-font-smoothing: antialiased;
  font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

body {
  font-family: "Roboto", Helvetica, Arial, sans-serif;
  font-weight: 100;
  font-size: 12px;
  line-height: 30px;
  color: #777;
  background: #4CAF50;
}

.container {
  max-width: 400px;
  width: 100%;
  margin: 0 auto;
  position: relative;
}

#contact input[type="text"],
#contact input[type="email"],
#contact input[type="tel"],
#contact input[type="url"],
#contact textarea,
#contact button[type="submit"] {
  font: 400 12px/16px "Roboto", Helvetica, Arial, sans-serif;
}

#contact {
  background: #F9F9F9;
  padding: 25px;
  margin: 150px 0;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
}

#contact h3 {
  display: block;
  font-size: 30px;
  font-weight: 300;
  margin-bottom: 10px;
}

#contact h4 {
  margin: 5px 0 15px;
  display: block;
  font-size: 13px;
  font-weight: 400;
}

fieldset {
  border: medium none !important;
  margin: 0 0 10px;
  min-width: 100%;
  padding: 0;
  width: 100%;
}

#contact input[type="text"],
#contact input[type="email"],
#contact input[type="tel"],
#contact input[type="url"],
#contact textarea {
  width: 100%;
  border: 1px solid #ccc;
  background: #FFF;
  margin: 0 0 5px;
  padding: 10px;
}

#contact input[type="text"]:hover,
#contact input[type="email"]:hover,
#contact input[type="tel"]:hover,
#contact input[type="url"]:hover,
#contact textarea:hover {
  -webkit-transition: border-color 0.3s ease-in-out;
  -moz-transition: border-color 0.3s ease-in-out;
  transition: border-color 0.3s ease-in-out;
  border: 1px solid #aaa;
}

#contact textarea {
  height: 100px;
  max-width: 100%;
  resize: none;
}

#contact button[type="submit"] {
  cursor: pointer;
  width: 100%;
  border: none;
  background: #0999d6;
  color: #FFF;
  margin: 0 0 5px;
  padding: 10px;
  font-size: 15px;
}

#contact button[type="submit"]:hover {
  background: #0875a3;
  -webkit-transition: background 0.3s ease-in-out;
  -moz-transition: background 0.3s ease-in-out;
  transition: background-color 0.3s ease-in-out;
}

#contact button[type="submit"]:active {
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.5);
}

.copyright {
  text-align: center;
}

#contact input:focus,
#contact textarea:focus {
  outline: 0;
  border: 1px solid #aaa;
}

::-webkit-input-placeholder {
  color: #888;
}

:-moz-placeholder {
  color: #888;
}

::-moz-placeholder {
  color: #888;
}

:-ms-input-placeholder {
  color: #888;
}
    </style>
        <div class="container">
            <form id="contact" action="https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8" method="POST">
                <input type="hidden" name="oid" value="00D09000007Tbi2"/>
                <input type="hidden" name="retURL"
                       value="https://britenetspzoo-a-dev-ed.lightning.force.com/lightning/o/Lead/list?filterName=00B0900000DP5OIEA1"/>
                <fieldset>
                    <input placeholder="First name" type="text" tabindex="1" autofocus="true" id="first_name"
                           name="first_name"/>
                </fieldset>
                <fieldset>
                    <input placeholder="Last name" type="text" tabindex="1" required="true" id="last_name"
                           name="last_name"/>
                </fieldset>
                <fieldset>
                    <input placeholder="Company" type="text" tabindex="1" required="true" id="company" name="company"/>
                </fieldset>
                <fieldset>
                    <input placeholder="Email Address" type="email" tabindex="2" id="email" name="email"/>
                </fieldset>
                <fieldset>
                    <input placeholder="Phone Number" type="tel" tabindex="3" id="phone" name="phone"/>
                </fieldset>
                <fieldset>
                    <input placeholder="City" type="text" tabindex="4" id="city" name="city"/>
                </fieldset>
                <fieldset>
                    <input placeholder="State" type="text" tabindex="4" id="state" name="state"/>
                </fieldset>
                <fieldset>
                    <button name="submit" type="submit" id="contact-submit" data-submit="...Sending">Submit</button>
                </fieldset>
            </form>
        </div>
    </apex:outputPanel>
</apex:page>